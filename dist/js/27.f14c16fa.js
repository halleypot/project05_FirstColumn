"use strict";(self["webpackChunkheimatoutiao"]=self["webpackChunkheimatoutiao"]||[]).push([[27],{8027:function(n,t,s){s.r(t),s.d(t,{default:function(){return u}});var e=function(){var n=this,t=n._self._c;return t("div",{staticClass:"channel"},[t("van-cell",{scopedSlots:n._u([{key:"title",fn:function(){return[t("span",[n._v("我的频道")]),t("van-button",{staticClass:"btnEdit",attrs:{plain:"",type:"danger",size:"mini"},on:{click:function(t){n.isEdit=!n.isEdit}}},[n._v(n._s(n.isEdit?"编辑":"取消"))])]},proxy:!0}])}),t("van-grid",{attrs:{"column-num":4}},n._l(n.myChannels,(function(s,e){return t("van-grid-item",{key:e,on:{click:function(t){return n.$emit("changeChannel",e)}},scopedSlots:n._u([{key:"text",fn:function(){return[t("span",{class:{fontRed:n.active===e}},[n._v(n._s(s.name))]),!n.isEdit&&e?t("van-icon",{staticClass:"crossIcon",attrs:{name:"cross"},on:{click:function(t){return t.stopPropagation(),n.delMyChannel(e,s.id)}}}):n._e()]},proxy:!0}],null,!0)})})),1),t("van-cell",{staticClass:"optionalChannel",attrs:{title:"可选频道"}}),t("van-grid",{attrs:{"column-num":4}},n._l(n.otherChannels,(function(s,e){return t("van-grid-item",{key:e,attrs:{text:s.name},on:{click:function(t){return n.addMyChannel(s)}}})})),1)],1)},a=[],i=s(3571),l=s(4820),c={props:["myChannels","active"],data(){return{allChannels:[],isEdit:!0,token:this.$store.state.myToken.token||{}}},methods:{delMyChannel(n,t){this.myChannels.splice(n,1),n<this.active&&this.$emit("changeChannel",this.active-1),this.token?(0,i.B3)(t):(0,l.QC)(this.myChannels),this.$toast.success("删除成功哟")},addMyChannel(n){this.myChannels.push(n),this.token?(0,i.gG)({channels:[{id:n.id,seq:this.myChannels.length+1}]}):(0,l.QC)(this.myChannels),this.$toast.success("添加频道成功！")}},async created(){const n=await(0,i.Lt)();this.allChannels=n.data.data.channels},computed:{otherChannels(){const n=this.myChannels.map((n=>n.id));return this.allChannels.filter((t=>!n.includes(t.id)))}}},o=c,h=s(1001),r=(0,h.Z)(o,e,a,!1,null,null,null),u=r.exports}}]);