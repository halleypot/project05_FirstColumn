"use strict";(self["webpackChunkheimatoutiao"]=self["webpackChunkheimatoutiao"]||[]).push([[697],{8697:function(n,t,e){e.r(t),e.d(t,{default:function(){return u}});var a=function(){var n=this,t=n._self._c;return t("div",{staticClass:"home"},[t("van-nav-bar",{scopedSlots:n._u([{key:"left",fn:function(){return[t("van-image",{attrs:{width:"100",src:e(6949),fit:"contain"}})]},proxy:!0},{key:"right",fn:function(){return[t("van-button",{on:{click:function(t){return n.$router.push("/home/search")}}},[t("van-icon",{attrs:{name:"search",color:"#fff"}}),n._v(" 搜索 ")],1)]},proxy:!0}])}),t("van-tabs",{staticClass:"channelBar",model:{value:n.active,callback:function(t){n.active=t},expression:"active"}},[n._l(n.myChannels,(function(e){return t("van-tab",{key:e.id,attrs:{title:e.name},on:{click:function(t){return n.setChannelId(e.id)}}},[t("news-list",{attrs:{channel_id:n.channel_id}})],1)})),t("van-icon",{staticClass:"sidebar",attrs:{name:"wap-nav"},on:{click:function(t){n.channelShow=!n.channelShow}}})],2),t("van-action-sheet",{attrs:{title:"频道管理"},model:{value:n.channelShow,callback:function(t){n.channelShow=t},expression:"channelShow"}},[t("channel",{attrs:{myChannels:n.myChannels,active:n.active},on:{changeChannel:t=>{n.active=t,n.channelShow=!1}}})],1)],1)},c=[],o=e(3571),i=e(4820),s={components:{newsList:()=>e.e(69).then(e.bind(e,6069)),channel:()=>e.e(27).then(e.bind(e,8027))},data(){return{myChannels:[],channel_id:"",channelShow:!1,active:0}},methods:{setChannelId(n){console.log(n),this.channel_id=n},async createChannel(){try{const n=await(0,o.U5)();this.myChannels=n.data.data.channels}catch(n){return Promise.reject(n)}}},created(){const n=(0,i.mr)(),t=this.$store.state.myToken.token;t||!n?this.createChannel():this.myChannels=n}},l=s,r=e(1001),h=(0,r.Z)(l,a,c,!1,null,null,null),u=h.exports},4820:function(n,t,e){e.d(t,{QC:function(){return c},mr:function(){return o}});const a="myChannel";function c(n){localStorage.setItem(a,JSON.stringify(n))}function o(){return JSON.parse(localStorage.getItem(a))}},6949:function(n,t,e){n.exports=e.p+"img/logo.d0d391a4.png"}}]);